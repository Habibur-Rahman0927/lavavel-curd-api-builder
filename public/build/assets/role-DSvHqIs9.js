$(function(){let o=$("#routeData").data("url");var e=$(".yajra-datatable").DataTable({processing:!0,serverSide:!0,ajax:o,columns:[{data:"id",name:"id"},{data:"name",name:"name"},{data:"action",name:"action",render:function(t,a,r){let n='<a href="/admin/role/'+r.id+'/edit" class="edit btn btn-success btn-sm">Edit</a>',c='<button class="delete btn btn-danger btn-sm" data-id="'+r.id+'">Delete</button>';return n+" "+c},orderable:!1,searchable:!1}],dom:'<"row"<"col-md-6"l><"col-md-6"f>>t<"row"<"col-md-5"i><"col-md-7"p>>',buttons:[{extend:"csv",text:"CSV",className:"btn btn-secondary"},{extend:"excel",text:"Excel",className:"btn btn-secondary"},{extend:"print",text:"Print",className:"btn btn-secondary"}],initComplete:function(){var t=$(".export-btn"),a=$(".dt-buttons").detach();t.after(a)}});$(".column-search").on("click",function(t){t.stopPropagation()}),$(".column-search").on("keyup change",function(){let t=$(this).parent().index();e.column(t).search(this.value).draw()}),$(".dropdown-menu").on("click","button",function(){var t=$(this).attr("id");switch(t){case"csvExport":e.button(".buttons-csv").trigger();break;case"excelExport":e.button(".buttons-excel").trigger();break;case"printExport":e.button(".buttons-print").trigger();break}}),$(document).on("click",".delete",function(){var t=$(this).data("id"),a=$(this).closest("tr");Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&$.ajax({type:"POST",url:"/admin/role/"+t,data:{_method:"DELETE",_token:$('meta[name="csrf-token"]').attr("content")},success:function(n){n.status_code===200?(Swal.fire("Deleted!","The role has been deleted.","success"),e.row(a).remove().draw()):Swal.fire("Error!",n.message||"role was not deleted.","error")},error:function(n){Swal.fire("Error!","There was an error deleting the role.","error")}})})})});
